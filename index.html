<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Devicon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" charset="utf-8">
  <link rel="stylesheet" href="devicon.min.css" charset="utf-8">
  <link rel="stylesheet" type="text/css" href="css/default.css" />
  <link rel="stylesheet" type="text/css" href="css/component.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <style media="screen">
    body {
      margin: 5rem;
      text-align: center;
      background: rgb(245, 245, 245);
    }
    .borders {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      border: 8px solid #60be86;
      z-index: -1;
    }
    .icon-version {
      margin: 4rem 0;
    }
    i {
      display: inline-block;
      margin: 2rem;
      font-size: 5rem;
    }
    img {
      max-width: 5rem;
    }
    h4 {
      margin: 0;
      color: #60be86;
    }
  </style>

</head>

<body ng-app="app" ng-controller="IconsCtrl">

        

                <div  class="container">

                        <div class="col-sm-4"></div>
                        <div class="col-sm-12">
                                <ul class="list-inline">
                                        <li class="list-inline-item" ng-repeat="icon in icons.children | filter:search">
                                            <a class="social-icon text-center" target="_blank" href="#" >
                                                    <div class="list-inline-item" ng-repeat="category in icon.children | filter:search">
                                                            <a class="social-icon text-center" target="_blank" href="#" ></a>
                                                    <ul class="list-inline">        
                                                        <li class="list-inline-item" ng-repeat="filename in category.children | filter:search">
                                                            <img src="/{{icon.name}}/{{category.name}}/{{filename.name}}" height="42" width="42" ng-class="{'selected': category.selected,icon.selected}" ng-click="selectIcon(category,icon)"/>        
                                                        </li>
                                                    </ul>        
                                                    </div>
                                                </a>
                                        </li>
                                        </ul>
                        </div>
                        <div class="col-sm-4">
                        </div>
                    </div>
                </div>

<!--                 
               
                <div ng-repeat="icon in icons.children | filter:search">
                        <h4>{{icon.name}}</h4>
                        <div ng-repeat="category in icon.children | filter:search">
                                    <h3 style="color:red;">{{category.name}}</h3>
                                        <div ng-repeat="filename in category.children | filter:search">
                                                <h3 style="color:orange;">{{filename.name}}</h3>
                                                <span  >                             
                                                    <img src="/{{icon.name}}/{{category.name}}/{{filename.name}}" style="border:solid 1px red" ng-class="{'selected': category.selected,icon.selected}" ng-click="selectIcon(category,icon)"/>        
                                                </span>
                                        </div>
                        </div>
                      </div>
                </div>  -->



    <!-- <table class="container">>
        <tr>
            <td>
                    <div class="borders"></div>
                    <input type="text" id="search" placeholder="Search for icons" ng-model="search.name">
                    <div ng-repeat="icon in icons.children | filter:search">
                      <h4>{{icon.name}}</h4>
                      <div ng-repeat="category in icon.children | filter:search">
                                  <h3 style="color:red;">{{category.name}}</h3>
                                      <div ng-repeat="filename in category.children | filter:search">
                                              <h3 style="color:orange;">{{filename.name}}</h3>
                                              <span  >                             
                                                  <img src="/{{icon.name}}/{{category.name}}/{{filename.name}}" style="border:solid 1px red" ng-class="{'selected': category.selected,icon.selected}" ng-click="selectIcon(category,icon)"/>        
                                              </span>
                                      </div>
                      </div>
                    </div>
            </td>
            <td>
                    <div>
                            this is the detaild version....


                            <div ng-repeat="icon in detailicons.children">
                                    <h4>iconname:{{icon.name}}</h4>
                                    <h4>fullfilename:/icons/{{fullpath}}/{{icon.name}}</h4>
                                        <span>                             
                                            <img src="{{fullpath}}/{{icon.name}}" style="border:solid 1px red" ng-class="{'selected': category.selected,icon.selected}" ng-click="selectIcon(category,icon)"/>        
                                        </span>
                                 
                            </div>
                    </div>
            </td>
        </tr>
    </table> -->

  
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script charset="utf-8">
      var app = angular.module("app", []);
      app.controller('IconsCtrl',function($scope, $http) {

        $http.get('/category').then(function(res) {
          $scope.icons = res.data;
        });

        $scope.selectIcon = function(category,icon)
        {
            //send these both of the objects to the controller and find out the locat
                
            $scope.selectedcategoryname = category.name;
            $scope.selectediconname = icon.name;
                var url = '/category?categoryname='+$scope.selectedcategoryname+'&iconname='+  $scope.selectediconname;
                $http.get(url).then(function(res) {
                    $scope.detailicons = res.data;
                    $scope.fullpath = res.data.path.split("icons")[1];
                });
        }

      });
    </script>
</body>
</html>